var G=Object.defineProperty,J=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var Y=(l,o,a)=>o in l?G(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a,C=(l,o)=>{for(var a in o||(o={}))Q.call(o,a)&&Y(l,a,o[a]);if(O)for(var a of O(o))W.call(o,a)&&Y(l,a,o[a]);return l},U=(l,o)=>J(l,K(o));import{r as p,c as n,a as e,t as u,w as N,n as w,b as E,o as r,F as f,d as h,e as m,f as $,g as T,h as S,i as M,j,k as F,l as Z,m as D,p as P,q as B,v as R,s as V,u as X,x as ee,y as z,_ as te,z as se,A as oe,B as ae,C as le}from"./vendor.767d4a4e.js";var y=(l,o)=>{const a=l.__vccOpts||l;for(const[t,d]of o)a[t]=d;return a};const re={props:["title"],setup(){return{open:p(!1)}}},ne={class:"flex flex-wrap justify-between md:justify-end items-center bg-white shadow-lg px-2 md:px-6 py-2"},ie={class:"block md:hidden flex items-center flex-no-shrink mr-6"},de={class:"font-semibold text-gray-900 text-lg md:text-2xl"},ce={class:"flex md:hidden"},ue=e("i",{class:"fas fa-bars"},null,-1),me=[ue];function fe(l,o,a,t,d,c){return r(),n("nav",ne,[e("div",ie,[e("span",de,u(a.title),1)]),e("div",ce,[e("button",{onClick:o[0]||(o[0]=N(s=>t.open=!t.open,["prevent"])),class:"flex items-center px-3 py-2 border rounded hover:text-white hover:border-white hover:bg-black"},me)]),e("div",{class:w([[t.open?"relative w-full":"hidden"],"md:flex"])},[e("div",{class:w(["flex flex-col flex-grow items-center md:flex md:flex-row",{"absolute right-0 bg-white shadow-lg":t.open}])},[E(l.$slots,"default")],2)],2)])}var _e=y(re,[["render",fe]]);const he={props:{title:{type:String,required:!0},className:{type:String,required:!0},btnClassName:{type:String,required:!0},href:{type:String,default:"#"}},emits:["btnClicked"]},ve=["title","href"],be=["title"];function pe(l,o,a,t,d,c){return a.href!=="#"?(r(),n("a",{key:0,class:w(a.className),title:a.title,href:a.href},[e("i",{class:w(a.btnClassName)},null,2)],10,ve)):(r(),n("a",{key:1,class:w(a.className),title:a.title,href:"#",onClick:o[0]||(o[0]=N(s=>l.$emit("btnClicked"),["prevent"]))},[e("i",{class:w(a.btnClassName)},null,2)],10,be))}var xe=y(he,[["render",pe]]);const ye={name:"Modal",props:{btnLabel:{default:"Delete"}},emits:["btnClick","close"]},ge={class:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-50"},we={class:"relative flex flex-col p-8 bg-white shadow-md hover:shadow-lg rounded-2xl"},ke=e("i",{class:"fas fa-times"},null,-1),De=[ke],$e={class:"flex items-center justify-between"},Ce={class:"flex items-center"},Ue=e("div",{class:"border rounded-2xl p-3 border border-blue-100 text-blue-400 bg-blue-50"},[e("div",{class:"flex justify-center items-center border-4 border-blue-400 rounded-full w-8 h-8"},[e("i",{class:"fas fa-info stroke-current"})])],-1),Se={class:"flex flex-col ml-3"};function Ne(l,o,a,t,d,c){return r(),n("div",ge,[e("div",we,[e("div",{class:"absolute top-1 right-2.5 cursor-pointer",onClick:o[0]||(o[0]=N(s=>l.$emit("close"),["prevent"]))},De),e("div",$e,[e("div",Ce,[Ue,e("div",Se,[E(l.$slots,"default")])]),e("a",{class:"flex-no-shrink bg-red-500 px-5 ml-4 py-2 text-sm shadow-sm hover:shadow-lg font-medium tracking-wider border-2 border-red-500 text-white rounded-full",role:"button",href:"#",onClick:o[1]||(o[1]=N(s=>l.$emit("btnClick"),["prevent"]))},u(a.btnLabel),1)])])])}var Ie=y(ye,[["render",Ne]]);const Me={props:["data"]},Ae={class:"flex"},Be={class:"flex h-8 font-medium rounded-full bg-gray-200"},Re=["aria-disabled"],je={key:0,class:"w-8 md:flex justify-center items-center hidden leading-5 rounded-full","aria-disabled":"true"},Fe=["aria-disabled","onClick"],qe=["aria-disabled"];function Ee(l,o,a,t,d,c){return r(),n("nav",Ae,[e("ul",Be,[e("li",{class:w(["h-8 w-8 mr-1 flex justify-center items-center rounded-full bg-gray-200",{"cursor-pointer":a.data.prev_page_url!==null}]),"aria-disabled":a.data.prev_page_url===null,onClick:o[0]||(o[0]=s=>l.$emit("fetchData",a.data.prev_page_url))}," < ",10,Re),(r(!0),n(f,null,h(a.data.links,s=>(r(),n(f,{key:s.label},[s.label==="..."?(r(),n("li",je,u(s.label),1)):isNaN(+s.label)?m("",!0):(r(),n("li",{key:1,class:w(["w-8 md:flex justify-center items-center hidden leading-5 rounded-full",[s.active?"bg-blue-600 text-white":"cursor-pointer"]]),"aria-disabled":s.url===null,onClick:i=>l.$emit("fetchData",s.url)},u(s.label),11,Fe))],64))),128)),e("li",{class:w(["h-8 w-8 ml-1 flex justify-center items-center rounded-full bg-gray-200",{"cursor-pointer":a.data.next_page_url!==null}]),"aria-disabled":a.data.next_page_url===null,onClick:o[1]||(o[1]=s=>l.$emit("fetchData",a.data.next_page_url))}," > ",10,qe)])])}var Te=y(Me,[["render",Ee]]);const Pe={props:{data:{default:{}},showIdColumn:{type:Boolean,default:!0},showAction:{type:Boolean,default:!1}},components:{ActionBtn:xe,Modal:Ie,Pagination:Te},emits:["fetchData","modalBtnClick"],setup(l){const{data:o}=$(l),a=p(!1),t=p(-1),d=p(""),c=p(""),s=T(()=>Object.prototype.hasOwnProperty.call(o.value,"links")&&o.value.links.length>3);return{activeItemId:t,activeModalType:d,activeModalMessage:c,showPagination:s,showModal:a}}},Ve={class:"table-auto space-y-6 text-sm mb-2"},Xe={class:"text-center"},Le={key:0,class:"p-2 border border-gray-300",scope:"col"},Oe={key:1,class:"p-2 border border-gray-300",scope:"col"},Ye={key:0,class:"p-2 text-justify border border-gray-300"},ze=["href"],He={key:1},Ge={key:1,class:"p-2 text-center border border-gray-300 space-x-2"},Je={class:"font-medium leading-none"};function Ke(l,o,a,t,d,c){const s=S("ActionBtn"),i=S("Pagination"),x=S("Modal");return r(),n("div",null,[e("table",Ve,[e("thead",null,[e("tr",Xe,[a.showIdColumn?(r(),n("th",Le,"#")):m("",!0),(r(!0),n(f,null,h(a.data.columns,_=>(r(),n("th",{key:_.name,class:"p-2 border border-gray-300",scope:"col"},u(_.title),1))),128)),a.showAction?(r(),n("th",Oe,"Action")):m("",!0)])]),e("tbody",null,[(r(!0),n(f,null,h(a.data.data,_=>(r(),n("tr",{key:_.id},[a.showIdColumn?(r(),n("td",Ye,u(_.id),1)):m("",!0),(r(!0),n(f,null,h(a.data.columns,b=>(r(),n("td",{key:b.name,class:"p-2 text-justify border border-gray-300"},[b.href?(r(),n("a",{key:0,class:"underline text-blue-600 hover:text-blue-800 visited:text-purple-600",href:_[b.href]},u(_[b.name]),9,ze)):(r(),n("span",He,u(_[b.name]),1))]))),128)),a.showAction?(r(),n("td",Ge,[(r(!0),n(f,null,h(_.action,b=>(r(),M(s,{key:b.title,title:b.title,className:b.className,btnClassName:b.btnClassName,href:b.href,onBtnClicked:g=>(t.activeItemId=_.id,t.activeModalType=b.type,t.activeModalMessage=b.modalMessage||"Delete?",t.showModal=!0)},null,8,["title","className","btnClassName","href","onBtnClicked"]))),128))])):m("",!0)]))),128))])]),t.showPagination?(r(),M(i,{key:0,data:a.data,onFetchData:o[0]||(o[0]=_=>l.$emit("fetchData",_))},null,8,["data"])):m("",!0),t.showModal?(r(),M(x,{key:1,onClose:o[1]||(o[1]=_=>t.showModal=!1),onBtnClick:o[2]||(o[2]=_=>(l.$emit("modalBtnClick",{type:t.activeModalType,id:t.activeItemId}),t.showModal=!1))},{default:j(()=>[e("div",Je,u(t.activeModalMessage),1)]),_:1})):m("",!0)])}var Qe=y(Pe,[["render",Ke]]);const We={props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1},formatData:{type:Function}},components:{DataTable:Qe},setup(l){const o=p([]),{fetchUrl:a,baseUrl:t,formatData:d}=$(l),c=async i=>{if(i){const x=await D.get(i).then(({data:_})=>_);o.value=d.value?d.value(x):x}},s=i=>{i.type==="delete"&&D.delete(`${t.value}/${i.id}`).then(()=>{const{current_page:x,links:_,data:b}=o.value,g=_.find(({label:H})=>`${x}`===H),q=b.length===1?a.value:g.url;c(q)})};return F(()=>c(a.value)),{tableData:o,fetchData:c,handleModalBtnClick:s}}},Ze={class:"w-max flex flex-col space-y-2 items-center mx-auto"},et={class:"w-full flex justify-between items-end p-2"},tt={class:"text-2xl"},st={class:"flex"},ot=["href"],at=e("i",{class:"fa fa-plus"},null,-1),lt=[at];function rt(l,o,a,t,d,c){const s=S("DataTable");return r(),n("div",Ze,[e("div",et,[e("h2",tt,[E(l.$slots,"header")]),e("div",st,[a.isAdmin?(r(),n("a",{key:0,class:"rounded px-3 py-2 m-1 shadow-lg bg-blue-600 border-blue-700",href:`${a.baseUrl}/create`,role:"button"},lt,8,ot)):m("",!0)])]),Z(s,{class:"w-full",data:t.tableData,showAction:a.isAdmin,onFetchData:t.fetchData,onModalBtnClick:t.handleModalBtnClick},null,8,["data","showAction","onFetchData","onModalBtnClick"])])}var L=y(We,[["render",rt]]);const nt={props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(l){const{baseUrl:o}=$(l),a=[{name:"name",title:"Name"},{name:"address",title:"Address"},{name:"station_type",title:"Type"},{name:"status",title:"Status",href:"statusUrl"},{name:"date_installed",title:"Install Date"}];return{formatData:d=>{const c=d.data.map(s=>U(C({},s),{statusUrl:`${o.value}/${s.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${o.value}/${s.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${s.name}' station?`,btnClassName:"fas fa-trash"}]}));return U(C({},d),{data:c,columns:a})}}}},it=P("Station "),dt=e("span",{class:"font-bold"},"Details",-1);function ct(l,o,a,t,d,c){const s=S("Default");return r(),M(s,{fetchUrl:a.fetchUrl,baseUrl:a.baseUrl,isAdmin:a.isAdmin,formatData:t.formatData},{header:j(()=>[it,dt]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var ut=y(nt,[["render",ct]]);const mt={props:["data","baseUrl"],setup(l){const{data:o,baseUrl:a}=$(l),t=p({name:"",lat:null,lon:null,elevation:null,mobile_number:null,date_installed:null,address:"",province:"",region:""}),d=p({}),c=p(!1),s=T(()=>t.value.station_type==="SMS"),i=()=>{c.value=!1,t.value.id?(console.log("patch"),console.log(t.value),D.patch(`${a.value}/${t.value.id}`,t.value).then(()=>c.value=!0).catch(({response:{data:{errors:x}}})=>d.value=x)):(console.log("post"),console.log(t.value),D.post(a.value,t.value).then(()=>c.value=!0).catch(({response:{data:{errors:x}}})=>d.value=x))};return F(()=>{o.value.id&&(t.value=o.value)}),{station:t,success:c,errors:d,mobileNumberInputEnabled:s,handleFormSubmit:i}}},v=l=>(V("data-v-122110d0"),l=l(),X(),l),ft={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},_t={class:"container mx-auto"},ht={class:"max-w-md mx-auto"},vt={class:"text-center"},bt={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},pt={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},xt=v(()=>e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),yt=v(()=>e("div",{class:"text-xl font-normal max-w-full flex-initial"}," Updated successfully ",-1)),gt={class:"flex flex-auto flex-row-reverse"},wt=v(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),kt=[wt],Dt={class:"m-7"},$t={class:"mb-3"},Ct=v(()=>e("label",{for:"name",class:"form-label"},"Station Name",-1)),Ut=["value"],St={class:"flex mb-3 space-x-2"},Nt={class:"w-1/3"},It=v(()=>e("label",{for:"lat",class:"form-label"},"Latitude",-1)),Mt=["value"],At={class:"w-1/3"},Bt=v(()=>e("label",{for:"lon",class:"form-label"},"Longitude",-1)),Rt=["value"],jt={class:"w-1/3"},Ft=v(()=>e("label",{for:"elevation",class:"form-label"},"Elevation",-1)),qt=["value"],Et={class:"flex mb-3 space-x-2"},Tt={class:"w-2/5"},Pt=v(()=>e("label",{for:"station_type",class:"form-label"},"Station Type",-1)),Vt=["value"],Xt=v(()=>e("option",null,"SMS",-1)),Lt=v(()=>e("option",null,"MO",-1)),Ot=[Xt,Lt],Yt={class:"w-3/5"},zt=v(()=>e("label",{for:"mobile_number",class:"form-label"},"Mobile Number",-1)),Ht=["disabled","value"],Gt={class:"flex mb-3 space-x-2"},Jt={class:"w-2/5"},Kt=v(()=>e("label",{for:"status",class:"form-label"},"Status",-1)),Qt=["value"],Wt=v(()=>e("option",null,"ACTIVE",-1)),Zt=v(()=>e("option",null,"INACTIVE",-1)),es=[Wt,Zt],ts={class:"w-3/5"},ss=v(()=>e("label",{for:"date_installed",class:"form-label"},"Date Installed",-1)),os=["value"],as={class:"mb-3"},ls=v(()=>e("label",{for:"address",class:"form-label"},"Address",-1)),rs=["value"],ns={class:"flex mb-4 space-x-2"},is={class:"w-1/2"},ds=v(()=>e("label",{for:"province",class:"form-label"},"Province",-1)),cs=["value"],us={class:"w-1/2"},ms=v(()=>e("label",{for:"region",class:"form-label"},"Region",-1)),fs=["value"],_s={class:"mb-3"},hs={type:"submit",class:"form-button"};function vs(l,o,a,t,d,c){return r(),n("div",ft,[e("div",_t,[e("div",ht,[e("div",vt,[e("h1",bt,u(t.station.id?`Update ${t.station.name}`:"Add new station"),1)]),B(e("div",pt,[xt,yt,e("div",gt,[e("div",{onClick:o[0]||(o[0]=s=>t.success=!1)},kt)])],512),[[R,t.success]]),e("div",Dt,[e("form",{onSubmit:o[11]||(o[11]=N((...s)=>t.handleFormSubmit&&t.handleFormSubmit(...s),["prevent"]))},[e("div",$t,[Ct,e("input",{type:"text",class:"form-control",placeholder:"Station Name",name:"name",value:t.station.name,onInput:o[1]||(o[1]=s=>t.station.name=s.target.value)},null,40,Ut),t.errors?(r(!0),n(f,{key:0},h(t.errors.name,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",St,[e("div",Nt,[It,e("input",{type:"text",class:"form-control",id:"lat",placeholder:"Lat",name:"lat",value:t.station.lat,onInput:o[2]||(o[2]=s=>t.station.lat=s.target.value)},null,40,Mt),t.errors?(r(!0),n(f,{key:0},h(t.errors.lat,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",At,[Bt,e("input",{type:"text",class:"form-control",id:"lon",placeholder:"Lon",name:"lon",value:t.station.lon,onInput:o[3]||(o[3]=s=>t.station.lon=s.target.value)},null,40,Rt),t.errors?(r(!0),n(f,{key:0},h(t.errors.lon,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",jt,[Ft,e("input",{type:"text",class:"form-control",id:"elevation",placeholder:"Elevation",name:"elevation",value:t.station.elevation,onInput:o[4]||(o[4]=s=>t.station.elevation=s.target.value)},null,40,qt),t.errors?(r(!0),n(f,{key:0},h(t.errors.elevation,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)])]),e("div",Et,[e("div",Tt,[Pt,e("select",{class:"form-control",id:"station_type",name:"station_type","aria-label":"Station Type",value:t.station.station_type,onChange:o[5]||(o[5]=s=>t.station.station_type=s.target.value)},Ot,40,Vt)]),e("div",Yt,[zt,e("input",{type:"text",class:"form-control",disabled:!t.mobileNumberInputEnabled,id:"mobile_number",placeholder:"63XXXXXXXXXX",name:"mobile_number",pattern:"63[0-9]{10}",value:t.station.mobile_number},null,8,Ht),t.errors?(r(!0),n(f,{key:0},h(t.errors.mobile_number,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)])]),e("div",Gt,[e("div",Jt,[Kt,e("select",{class:"form-control",id:"status",name:"status","aria-label":"Station Status",value:t.station.status,onChange:o[6]||(o[6]=s=>t.station.status=s.target.value)},es,40,Qt)]),e("div",ts,[ss,e("input",{type:"date",class:"form-control",id:"date_installed",placeholder:"YYYY-MM-dd",name:"date_installed",value:t.station.date_installed,onChange:o[7]||(o[7]=s=>t.station.date_installed=s.target.value)},null,40,os),t.errors?(r(!0),n(f,{key:0},h(t.errors.date_installed,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)])]),e("div",as,[ls,e("input",{type:"text",class:"form-control",id:"address",name:"address",placeholder:"Address",value:t.station.address,onInput:o[8]||(o[8]=s=>t.station.address=s.target.value)},null,40,rs),t.errors?(r(!0),n(f,{key:0},h(t.errors.address,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",ns,[e("div",is,[ds,e("input",{type:"text",class:"form-control",id:"province",placeholder:"Province",name:"province",value:t.station.province,onInput:o[9]||(o[9]=s=>t.station.province=s.target.value)},null,40,cs),t.errors?(r(!0),n(f,{key:0},h(t.errors.province,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",us,[ms,e("input",{type:"text",class:"form-control",id:"region",placeholder:"Region",name:"region",value:t.station.region,onInput:o[10]||(o[10]=s=>t.station.region=s.target.value)},null,40,fs),t.errors?(r(!0),n(f,{key:0},h(t.errors.region,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)])]),e("div",_s,[e("button",hs,u(t.station.id?"Update":"Add"),1)])],32)])])])])}var bs=y(mt,[["render",vs],["__scopeId","data-v-122110d0"]]);const ps={props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(l){const{baseUrl:o}=$(l),a=[{name:"name",title:"Name"},{name:"roleList",title:"Roles"}];return{formatData:d=>{const c=d.data.map(s=>U(C({},s),{statusUrl:`${o.value}/${s.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${o.value}/${s.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${s.name}' station?`,btnClassName:"fas fa-trash"}]}));return U(C({},d),{data:c,columns:a})}}}},xs=P("User "),ys=e("span",{class:"font-bold"},"Details",-1);function gs(l,o,a,t,d,c){const s=S("Default");return r(),M(s,{fetchUrl:a.fetchUrl,baseUrl:a.baseUrl,isAdmin:a.isAdmin,formatData:t.formatData},{header:j(()=>[xs,ys]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var ws=y(ps,[["render",gs]]);const ks={props:["data","roles","baseUrl"],setup(l){const{data:o,roles:a,baseUrl:t}=$(l),d=p({name:"",email:null,password:null,roles:[]}),c=p([]),s=p({}),i=p(!1),x=p(!1),_=T(()=>c.value.map(g=>a.value.filter(q=>q.id===g)[0].name)),b=()=>{i.value=!1,d.value.roles=c.value,d.value.id?D.patch(`${t.value}/${d.value.id}`,d.value).then(()=>i.value=!0).catch(({response:{data:{errors:g}}})=>s.value=g):D.post(t.value,d.value).then(()=>i.value=!0).catch(({response:{data:{errors:g}}})=>s.value=g)};return F(()=>{o.value.id&&(d.value=o.value),o.value.roles&&(c.value=o.value.roles.map(({id:g})=>g))}),{user:d,userRoleIds:c,userRoleNames:_,success:i,errors:s,showRoleDrpDwn:x,handleFormSubmit:b}}},I=l=>(V("data-v-0c144522"),l=l(),X(),l),Ds={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},$s={class:"container mx-auto"},Cs={class:"max-w-md mx-auto"},Us={class:"text-center"},Ss={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},Ns={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},Is=I(()=>e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),Ms=I(()=>e("div",{class:"text-xl font-normal max-w-full flex-initial"}," Updated successfully ",-1)),As={class:"flex flex-auto flex-row-reverse"},Bs=I(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),Rs=[Bs],js={class:"m-7"},Fs={class:"mb-3"},qs=I(()=>e("label",{for:"name",class:"form-label"},"User Name",-1)),Es=["value"],Ts={class:"mb-3"},Ps=I(()=>e("label",{for:"email",class:"form-label"},"Email",-1)),Vs=["value"],Xs={class:"mb-3"},Ls=I(()=>e("label",{for:"password",class:"form-label"},"Password",-1)),Os=["value","required"],Ys=I(()=>e("label",{for:"roles",class:"form-label"},"Roles",-1)),zs={class:"w-full flex"},Hs=["value"],Gs=["value"],Js={class:"mb-3"},Ks={type:"submit",class:"form-button"};function Qs(l,o,a,t,d,c){return r(),n("div",Ds,[e("div",$s,[e("div",Cs,[e("div",Us,[e("h1",Ss,u(t.user.id?`Update ${t.user.name}`:"Add new user"),1)]),B(e("div",Ns,[Is,Ms,e("div",As,[e("div",{onClick:o[0]||(o[0]=s=>t.success=!1)},Rs)])],512),[[R,t.success]]),e("div",js,[e("form",{onSubmit:o[9]||(o[9]=N((...s)=>t.handleFormSubmit&&t.handleFormSubmit(...s),["prevent"]))},[e("div",Fs,[qs,e("input",{type:"text",class:"form-control",placeholder:"User Name",name:"name",value:t.user.name,onInput:o[1]||(o[1]=s=>t.user.name=s.target.value),required:""},null,40,Es),t.errors?(r(!0),n(f,{key:0},h(t.errors.name,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",Ts,[Ps,e("input",{type:"email",class:"form-control",placeholder:"Email",name:"email",value:t.user.email,onInput:o[2]||(o[2]=s=>t.user.email=s.target.value),required:""},null,40,Vs),t.errors?(r(!0),n(f,{key:0},h(t.errors.email,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",Xs,[Ls,e("input",{type:"password",class:"form-control",placeholder:"Password",name:"password",value:t.user.password,onInput:o[3]||(o[3]=s=>t.user.password=s.target.value),required:t.user.id===null},null,40,Os),t.errors?(r(!0),n(f,{key:0},h(t.errors.password,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",{class:"mb-3",onMouseleave:o[8]||(o[8]=s=>t.showRoleDrpDwn=!1)},[Ys,e("div",zs,[e("input",{type:"text",class:"form-control",placeholder:"Roles",id:"roles",onFocus:o[4]||(o[4]=s=>t.showRoleDrpDwn=!0),value:t.userRoleNames,readonly:""},null,40,Hs),e("button",{class:"px-3 py-2 border bg-blue-300 border-blue-400 rounded-r-md",type:"button",id:"roleDrpDwnBtn",onClick:o[5]||(o[5]=s=>t.showRoleDrpDwn=!t.showRoleDrpDwn)},[e("i",{class:w(["fas",t.showRoleDrpDwn?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),B(e("select",{class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>t.userRoleIds=s),onBlur:o[7]||(o[7]=s=>t.showRoleDrpDwn=!1),multiple:""},[(r(!0),n(f,null,h(a.roles,s=>(r(),n("option",{key:s.id,value:s.id},u(s.name),9,Gs))),128))],544),[[ee,t.userRoleIds],[R,t.showRoleDrpDwn]])],32),e("div",Js,[e("button",Ks,u(t.user.id?"Update":"Add"),1)])],32)])])])])}var Ws=y(ks,[["render",Qs],["__scopeId","data-v-0c144522"]]);const Zs={props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(l){const{baseUrl:o}=$(l),a=[{name:"name",title:"Name"},{name:"description",title:"Description"}];return{formatData:d=>{const c=d.data.map(s=>U(C({},s),{statusUrl:`${o.value}/${s.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${o.value}/${s.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${s.name}' station?`,btnClassName:"fas fa-trash"}]}));return U(C({},d),{data:c,columns:a})}}}},eo=P("Role "),to=e("span",{class:"font-bold"},"Details",-1);function so(l,o,a,t,d,c){const s=S("Default");return r(),M(s,{fetchUrl:a.fetchUrl,baseUrl:a.baseUrl,isAdmin:a.isAdmin,formatData:t.formatData},{header:j(()=>[eo,to]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var oo=y(Zs,[["render",so]]);const ao={props:["data","baseUrl"],setup(l){const{data:o,baseUrl:a}=$(l),t=p({name:"",description:null}),d=p({}),c=p(!1),s=()=>{c.value=!1,t.value.id?D.patch(`${a.value}/${t.value.id}`,t.value).then(()=>c.value=!0).catch(({response:{data:{errors:i}}})=>d.value=i):D.post(a.value,t.value).then(()=>c.value=!0).catch(({response:{data:{errors:i}}})=>d.value=i)};return F(()=>{o.value.id&&(t.value=o.value)}),{role:t,success:c,errors:d,handleFormSubmit:s}}},A=l=>(V("data-v-d7c8a61e"),l=l(),X(),l),lo={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},ro={class:"container mx-auto"},no={class:"max-w-md mx-auto"},io={class:"text-center"},co={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},uo={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},mo=A(()=>e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),fo=A(()=>e("div",{class:"text-xl font-normal max-w-full flex-initial"}," Updated successfully ",-1)),_o={class:"flex flex-auto flex-row-reverse"},ho=A(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),vo=[ho],bo={class:"m-7"},po={class:"mb-3"},xo=A(()=>e("label",{for:"name",class:"form-label"},"Role Name",-1)),yo=["value"],go={class:"mb-3"},wo=A(()=>e("label",{for:"description",class:"form-label"},"Description",-1)),ko=["value"],Do={class:"mb-3"},$o={type:"submit",class:"form-button"};function Co(l,o,a,t,d,c){return r(),n("div",lo,[e("div",ro,[e("div",no,[e("div",io,[e("h1",co,u(t.role.id?`Update ${t.role.name}`:"Add new role"),1)]),B(e("div",uo,[mo,fo,e("div",_o,[e("div",{onClick:o[0]||(o[0]=s=>t.success=!1)},vo)])],512),[[R,t.success]]),e("div",bo,[e("form",{onSubmit:o[3]||(o[3]=N((...s)=>t.handleFormSubmit&&t.handleFormSubmit(...s),["prevent"]))},[e("div",po,[xo,e("input",{type:"text",class:"form-control",placeholder:"Role Name",name:"name",value:t.role.name,onInput:o[1]||(o[1]=s=>t.role.name=s.target.value),required:""},null,40,yo),t.errors?(r(!0),n(f,{key:0},h(t.errors.name,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",go,[wo,e("input",{type:"text",class:"form-control",id:"description",name:"description",placeholder:"Description",value:t.role.description,onInput:o[2]||(o[2]=s=>t.role.description=s.target.value)},null,40,ko),t.errors?(r(!0),n(f,{key:0},h(t.errors.description,(s,i)=>(r(),n("span",{class:"form-error",role:"alert",key:i},u(s),1))),128)):m("",!0)]),e("div",Do,[e("button",$o,u(t.role.id?"Update":"Add"),1)])],32)])])])])}var Uo=y(ao,[["render",Co],["__scopeId","data-v-d7c8a61e"]]);z.add(te);z.add(se);oe.watch();const k=ae({});k.component("font-awesome-icon",le);k.component("v-header",_e);k.component("station-default",ut);k.component("station-form",bs);k.component("user-default",ws);k.component("user-form",Ws);k.component("role-default",oo);k.component("role-form",Uo);k.mount("#app");
