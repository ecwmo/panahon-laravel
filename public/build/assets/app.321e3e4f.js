var K=Object.defineProperty,W=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var z=(e,s,l)=>s in e?K(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,I=(e,s)=>{for(var l in s||(s={}))Z.call(s,l)&&z(e,l,s[l]);if(O)for(var l of O(s))ee.call(s,l)&&z(e,l,s[l]);return e},A=(e,s)=>W(e,Q(s));import{d as g,c as q,a as r,F as m,r as f,n as w,o as a,w as U,b as t,t as c,e as p,f as v,g as x,h as C,i as M,v as N,j as Y,k as S,l as H,m as B,p as F,q as P,s as T,u as V,x as X,y as te,z as se,A as oe,B as ae,C as re,D as le,E as ne,G as ie,H as de,I as ue,J as ce,K as me,L as pe,M as fe,N as he,O as ve,P as be}from"./vendor.5f87419a.js";var y=(e,s)=>{const l=e.__vccOpts||e;for(const[d,i]of s)l[d]=i;return l};const $e=g({props:{isPopup:{type:Boolean,default:!1},isSuperAdmin:{type:Boolean,default:!1},subUrl:{type:String,default:"/"}},setup(e){const{isSuperAdmin:s,subUrl:l}=e,d=[{href:`${l}`,label:"Dashboard",icon:"tachometer-alt",display:!0},{href:`${l}stations`,label:"Weather Stations",icon:"umbrella",display:!0},{href:`${l}users`,label:"User",icon:"user",display:s},{href:`${l}roles`,label:"Roles",icon:"user-tag",display:s}],i=q(()=>"/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1));return{menu:d,activeUrl:i}}}),_e=["href"];function ge(e,s,l,d,i,u){return a(),r("div",{class:w(e.isPopup?"text-sm":"hidden md:block bg-blue-700 flex-shrink-0 w-56 p-12 overflow-y-auto")},[(a(!0),r(m,null,f(e.menu,o=>(a(),r("div",{class:w(e.isPopup?"mb-2":"mb-4")},[o.display?(a(),r("a",{key:0,href:o.href,class:w(["flex items-center group",e.isPopup?"py-1.5":"py-3"]),onClick:s[0]||(s[0]=U(()=>{},["stop"]))},[t("i",{class:w([`w-4 h-4 mr-2 fas fa-${o.icon} fa-fw`,e.activeUrl===o.href?"text-white":"text-blue-300 group-hover:text-white"])},null,2),t("span",{class:w(e.activeUrl===o.href?"text-white":"text-blue-300 group-hover:text-white")},c(o.label),3)],10,_e)):p("",!0)],2))),256))],2)}var G=y($e,[["render",ge]]);const ye=g({props:["title","username","loginUrl","logoutUrl","registerUrl","subUrl","isSuperAdmin"],components:{Sidebar:G},setup(e){var n;const s=v(!1),l=v(!1),d=v(!1),{username:i,logoutUrl:u}=x(e);return d.value=((n=i.value)==null?void 0:n.length)>0,{showMenu:s,showSubmenu:l,isLoggedIn:d,logout:async()=>{const _=await C.post(u.value);_.status>=200&&_.status<300&&(d.value=!1,l.value=!1)}}}}),we={class:"md:flex md:flex-shrink-0"},ke={class:"bg-blue-900 md:flex-shrink-0 md:w-56 px-6 py-4 flex items-center justify-between md:justify-center"},De={href:"/",class:"mt-1"},Ue={class:"font-semibold text-gray-200 text-lg md:text-2xl"},Se=t("i",{class:"text-white w-6 h-6 fas fa-bars"},null,-1),Ce={class:"absolute z-50 top-0 right-0 mt-5"},xe={class:"mt-2 px-8 py-4 shadow-lg bg-blue-800 rounded"},Ie={class:"bg-white border-b w-full p-4 md:py-0 md:px-12 text-sm md:text-md flex justify-end items-center"},Ae={class:"flex items-center cursor-pointer select-none group"},Me={class:"font-semibold text-gray-500 group-hover:text-blue-500 focus:text-blue-500 transition duration-300 mr-1 whitespace-nowrap"},Ne=t("i",{class:"w-3 h-3 stroke-current group-hover:text-blue-500 text-gray-700 focus:text-blue-500 fas fa-chevron-down"},null,-1),Be={class:"absolute z-50 top-0 right-0 mt-5"},Re={class:"mt-2 py-2 shadow-xl bg-white rounded text-sm"},Fe={key:1},je=["href"],qe=["href"];function Pe(e,s,l,d,i,u){const o=S("Sidebar");return a(),r(m,null,[M(t("div",{class:"fixed z-40 inset-0 bg-black opacity-20",onClick:s[0]||(s[0]=n=>{e.showMenu=!1,e.showSubmenu=!1})},null,512),[[N,e.showMenu||e.showSubmenu]]),t("div",we,[t("div",ke,[t("a",De,[t("span",Ue,c(e.title),1)]),t("button",{onClick:s[1]||(s[1]=U(n=>e.showMenu=!0,["prevent"])),class:"md:hidden relative"},[Se,M(t("div",Ce,[t("div",xe,[Y(o,{isPopup:!0,isSuperAdmin:e.isSuperAdmin,subUrl:e.subUrl},null,8,["isSuperAdmin","subUrl"])])],512),[[N,e.showMenu]])])]),t("div",Ie,[e.isLoggedIn?(a(),r("button",{key:0,type:"button",class:"mt-1 relative",onClick:s[3]||(s[3]=U(n=>e.showSubmenu=!0,["prevent"]))},[t("div",Ae,[t("div",Me,[t("span",null,c(e.username),1)]),Ne]),M(t("div",Be,[t("div",Re,[t("a",{href:"#",class:"block px-6 py-2 hover:bg-blue-500 hover:text-white",onClick:s[2]||(s[2]=U((...n)=>e.logout&&e.logout(...n),["prevent"]))},"Logout")])],512),[[N,e.showSubmenu]])])):(a(),r("div",Fe,[t("a",{class:"p-2 font-semibold text-gray-500 hover:text-blue-500 transition duration-300",href:e.loginUrl},"Login",8,je),t("a",{class:"p-2 font-semibold text-gray-500 hover:text-blue-500 transition duration-300",href:e.registerUrl},"Register",8,qe)]))])])],64)}var Te=y(ye,[["render",Pe]]);const Le=g({props:{title:{type:String,required:!0},className:{type:String,required:!0},btnClassName:{type:String,required:!0},href:{type:String,default:"#"}},emits:["btnClicked"]}),Ee=["title","href"],Ve=["title"];function Xe(e,s,l,d,i,u){return e.href!=="#"?(a(),r("a",{key:0,class:w(e.className),title:e.title,href:e.href},[t("i",{class:w(e.btnClassName)},null,2)],10,Ee)):(a(),r("a",{key:1,class:w(e.className),title:e.title,href:"#",onClick:s[0]||(s[0]=U(o=>e.$emit("btnClicked"),["prevent"]))},[t("i",{class:w(e.btnClassName)},null,2)],10,Ve))}var Oe=y(Le,[["render",Xe]]);const ze=g({name:"Modal",props:{btnLabel:{default:"Delete"}},emits:["btnClick","close"]}),Ye={class:"h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-50"},He={class:"relative flex flex-col p-8 bg-white shadow-md hover:shadow-lg rounded-2xl"},Ge=t("i",{class:"fas fa-times"},null,-1),Je=[Ge],Ke={class:"flex items-center justify-between"},We={class:"flex items-center"},Qe=t("div",{class:"border rounded-2xl p-3 border border-blue-100 text-blue-400 bg-blue-50"},[t("div",{class:"flex justify-center items-center border-4 border-blue-400 rounded-full w-8 h-8"},[t("i",{class:"fas fa-info stroke-current"})])],-1),Ze={class:"flex flex-col ml-3"};function et(e,s,l,d,i,u){return a(),r("div",Ye,[t("div",He,[t("div",{class:"absolute top-1 right-2.5 cursor-pointer",onClick:s[0]||(s[0]=U(o=>e.$emit("close"),["prevent"]))},Je),t("div",Ke,[t("div",We,[Qe,t("div",Ze,[H(e.$slots,"default")])]),t("a",{class:"flex-no-shrink bg-red-500 px-5 ml-4 py-2 text-sm shadow-sm hover:shadow-lg font-medium tracking-wider border-2 border-red-500 text-white rounded-full",role:"button",href:"#",onClick:s[1]||(s[1]=U(o=>e.$emit("btnClick"),["prevent"]))},c(e.btnLabel),1)])])])}var tt=y(ze,[["render",et]]);const st=g({props:["data"]}),ot={class:"flex flex-wrap -mb-1"},at={key:0,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded text-gray-400"},rt=["onClick"];function lt(e,s,l,d,i,u){return a(),r("div",ot,[t("div",{class:w(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded",e.data.prev_page_url!==null?"cursor-pointer hover:bg-white focus:border-blue-500 focus:text-blue-500":"text-gray-400"]),onClick:s[0]||(s[0]=o=>e.$emit("fetchData",e.data.prev_page_url))}," \xAB Previous ",2),(a(!0),r(m,null,f(e.data.links,o=>(a(),r(m,{key:o.label},[o.label==="..."?(a(),r("div",at,c(o.label),1)):isNaN(+o.label)?p("",!0):(a(),r("div",{key:1,class:w(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded",o.active?"bg-white":"cursor-pointer hover:bg-white focus:border-blue-500 focus:text-blue-500"]),onClick:n=>e.$emit("fetchData",o.url)},c(o.label),11,rt))],64))),128)),t("div",{class:w(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded",e.data.next_page_url!==null?"cursor-pointer hover:bg-white focus:border-blue-500 focus:text-blue-500":"text-gray-400"]),onClick:s[1]||(s[1]=o=>e.$emit("fetchData",e.data.next_page_url))}," Next \xBB ",2)])}var nt=y(st,[["render",lt]]);const it=g({props:{data:{type:Object,required:!0},showIdColumn:{type:Boolean,default:!0},showAction:{type:Boolean,default:!1}},components:{ActionBtn:Oe,Modal:tt,Pagination:nt},emits:["fetchData","modalBtnClick"],setup(e){const{data:s}=x(e),l=v(!1),d=v(-1),i=v(""),u=v(""),o=q(()=>Object.prototype.hasOwnProperty.call(s.value,"links")&&s.value.links.length>3);return{activeItemId:d,activeModalType:i,activeModalMessage:u,showPagination:o,showModal:l}}}),dt={class:"bg-white rounded-md shadow overflow-x-auto"},ut={class:"w-full whitespace-nowrap"},ct={class:"text-left font-bold"},mt={key:0,class:"p-3",scope:"col"},pt={key:1,class:"p-3",scope:"col"},ft={key:0,class:"p-3 text-justify border-t"},ht=["href"],vt={key:1},bt={key:1,class:"p-3 text-center border-t space-x-2"},$t={class:"font-medium leading-none"},_t={class:"mt-6"};function gt(e,s,l,d,i,u){const o=S("ActionBtn"),n=S("Modal"),_=S("Pagination");return a(),r(m,null,[t("div",dt,[t("table",ut,[t("tr",ct,[e.showIdColumn?(a(),r("th",mt,"#")):p("",!0),(a(!0),r(m,null,f(e.data.columns,h=>(a(),r("th",{key:h.name,class:"p-2",scope:"col"},c(h.title),1))),128)),e.showAction?(a(),r("th",pt,"Action")):p("",!0)]),(a(!0),r(m,null,f(e.data.data,h=>(a(),r("tr",{key:h.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e.showIdColumn?(a(),r("td",ft,c(h.id),1)):p("",!0),(a(!0),r(m,null,f(e.data.columns,$=>(a(),r("td",{key:$.name,class:"p-2 text-justify border-t"},[$.href?(a(),r("a",{key:0,class:"underline text-blue-600 hover:text-blue-800 visited:text-purple-600",href:h[$.href]},c(h[$.name]),9,ht)):(a(),r("span",vt,c(h[$.name]),1))]))),128)),e.showAction?(a(),r("td",bt,[(a(!0),r(m,null,f(h.action,$=>(a(),B(o,{key:$.title,title:$.title,"class-name":$.className,"btn-class-name":$.btnClassName,href:$.href,onBtnClicked:D=>{e.activeItemId=h.id,e.activeModalType=$.type,e.activeModalMessage=$.modalMessage||"Delete?",e.showModal=!0}},null,8,["title","class-name","btn-class-name","href","onBtnClicked"]))),128))])):p("",!0)]))),128))]),e.showModal?(a(),B(n,{key:0,onClose:s[0]||(s[0]=h=>e.showModal=!1),onBtnClick:s[1]||(s[1]=h=>(e.$emit("modalBtnClick",{type:e.activeModalType,id:e.activeItemId}),e.showModal=!1))},{default:F(()=>[t("div",$t,c(e.activeModalMessage),1)]),_:1})):p("",!0)]),t("div",_t,[e.showPagination?(a(),B(_,{key:0,data:e.data,onFetchData:s[2]||(s[2]=h=>e.$emit("fetchData",h))},null,8,["data"])):p("",!0)])],64)}var yt=y(it,[["render",gt]]);const wt=g({props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1},showIdColumn:{type:Boolean,default:!0},formatData:{type:Function}},components:{DataTable:yt},setup(e){const s=v({}),{fetchUrl:l,baseUrl:d,formatData:i}=x(e),u=async n=>{if(n){const _=await C.get(n).then(({data:h})=>h);s.value=i.value?i.value(_):_}},o=n=>{n.type==="delete"&&C.delete(`${d.value}/${n.id}`).then(()=>{const{current_page:_,links:h,data:$}=s.value,D=h.find(({label:J})=>`${_}`===J)||{url:""},E=$.length===1?l.value:D.url;u(E)})};return P(()=>u(l.value)),{tableData:s,fetchData:u,handleModalBtnClick:o}}}),kt={class:"w-full flex justify-between items-end p-2"},Dt={class:"text-2xl"},Ut={class:"flex"},St=["href"],Ct=t("i",{class:"fas fa-plus"},null,-1),xt=[Ct];function It(e,s,l,d,i,u){const o=S("DataTable");return a(),r("div",null,[t("div",kt,[t("h2",Dt,[H(e.$slots,"header")]),t("div",Ut,[e.isAdmin?(a(),r("a",{key:0,class:"rounded px-3 py-2 m-1 shadow-lg bg-blue-600 border-blue-700",href:`${e.baseUrl}/create`,role:"button"},xt,8,St)):p("",!0)])]),Y(o,{data:e.tableData,showAction:e.isAdmin,showIdColumn:e.showIdColumn,onFetchData:e.fetchData,onModalBtnClick:e.handleModalBtnClick},null,8,["data","showAction","showIdColumn","onFetchData","onModalBtnClick"])])}var L=y(wt,[["render",It]]);const At=g({props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(e){const{baseUrl:s}=x(e),l=[{name:"name",title:"Name"},{name:"station_type",title:"Type"},{name:"status",title:"Status",href:"statusUrl"},{name:"date_installed",title:"Install Date"}];return{formatData:i=>{const u=i.data.map(o=>A(I({},o),{statusUrl:`${s.value}/${o.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${s.value}/${o.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${o.name}' station?`,btnClassName:"fas fa-trash"}]}));return A(I({},i),{data:u,columns:l})}}}}),Mt=T("Station "),Nt=t("span",{class:"font-bold"},"Details",-1);function Bt(e,s,l,d,i,u){const o=S("Default");return a(),B(o,{fetchUrl:e.fetchUrl,baseUrl:e.baseUrl,isAdmin:e.isAdmin,formatData:e.formatData},{header:F(()=>[Mt,Nt]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var Rt=y(At,[["render",Bt]]);const Ft=g({props:["data","baseUrl"],setup(e){const{data:s,baseUrl:l}=x(e),d=v({name:"",address:""}),i=v({}),u=v(!1),o=q(()=>d.value.station_type==="SMS"),n=()=>{u.value=!1,d.value.id?(console.log("patch"),console.log(d.value),C.patch(`${l.value}/${d.value.id}`,d.value).then(()=>u.value=!0).catch(({response:{data:{errors:_}}})=>i.value=_)):(console.log("post"),console.log(d.value),C.post(l.value,d.value).then(()=>u.value=!0).catch(({response:{data:{errors:_}}})=>i.value=_))};return P(()=>{s.value.id&&(d.value=s.value)}),{station:d,success:u,errors:i,mobileNumberInputEnabled:o,handleFormSubmit:n}}}),b=e=>(V("data-v-b6219bdc"),e=e(),X(),e),jt={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},qt={class:"container mx-auto"},Pt={class:"max-w-md mx-auto"},Tt={class:"text-center"},Lt={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},Et={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},Vt=b(()=>t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),Xt=b(()=>t("div",{class:"text-xl font-normal max-w-full flex-initial"},"Updated successfully",-1)),Ot={class:"flex flex-auto flex-row-reverse"},zt=b(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),Yt=[zt],Ht={class:"m-7"},Gt={class:"mb-3"},Jt=b(()=>t("label",{for:"name",class:"form-label"},"Station Name",-1)),Kt=["value"],Wt={class:"flex mb-3 space-x-2"},Qt={class:"w-1/3"},Zt=b(()=>t("label",{for:"lat",class:"form-label"},"Latitude",-1)),es=["value"],ts={class:"w-1/3"},ss=b(()=>t("label",{for:"lon",class:"form-label"},"Longitude",-1)),os=["value"],as={class:"w-1/3"},rs=b(()=>t("label",{for:"elevation",class:"form-label"},"Elevation",-1)),ls=["value"],ns={class:"flex mb-3 space-x-2"},is={class:"w-2/5"},ds=b(()=>t("label",{for:"station_type",class:"form-label"},"Station Type",-1)),us=["value"],cs=b(()=>t("option",null,"SMS",-1)),ms=b(()=>t("option",null,"MO",-1)),ps=[cs,ms],fs={class:"w-3/5"},hs=b(()=>t("label",{for:"mobile_number",class:"form-label"},"Mobile Number",-1)),vs=["disabled","value"],bs={class:"flex mb-3 space-x-2"},$s={class:"w-2/5"},_s=b(()=>t("label",{for:"status",class:"form-label"},"Status",-1)),gs=["value"],ys=b(()=>t("option",null,"ACTIVE",-1)),ws=b(()=>t("option",null,"INACTIVE",-1)),ks=[ys,ws],Ds={class:"w-3/5"},Us=b(()=>t("label",{for:"date_installed",class:"form-label"},"Date Installed",-1)),Ss=["value"],Cs={class:"mb-3"},xs=b(()=>t("label",{for:"address",class:"form-label"},"Address",-1)),Is=["value"],As={class:"flex mb-4 space-x-2"},Ms={class:"w-1/2"},Ns=b(()=>t("label",{for:"province",class:"form-label"},"Province",-1)),Bs=["value"],Rs={class:"w-1/2"},Fs=b(()=>t("label",{for:"region",class:"form-label"},"Region",-1)),js=["value"],qs={class:"mb-3"},Ps={type:"submit",class:"form-button"};function Ts(e,s,l,d,i,u){return a(),r("div",jt,[t("div",qt,[t("div",Pt,[t("div",Tt,[t("h1",Lt,c(e.station.id?`Update ${e.station.name}`:"Add new station"),1)]),M(t("div",Et,[Vt,Xt,t("div",Ot,[t("div",{onClick:s[0]||(s[0]=o=>e.success=!1)},Yt)])],512),[[N,e.success]]),t("div",Ht,[t("form",{onSubmit:s[11]||(s[11]=U((...o)=>e.handleFormSubmit&&e.handleFormSubmit(...o),["prevent"]))},[t("div",Gt,[Jt,t("input",{type:"text",class:"form-control",placeholder:"Station Name",name:"name",value:e.station.name,onInput:s[1]||(s[1]=o=>e.station.name=o.target.value)},null,40,Kt),e.errors?(a(!0),r(m,{key:0},f(e.errors.name,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",Wt,[t("div",Qt,[Zt,t("input",{type:"text",class:"form-control",id:"lat",placeholder:"Lat",name:"lat",value:e.station.lat,onInput:s[2]||(s[2]=o=>e.station.lat=o.target.value)},null,40,es),e.errors?(a(!0),r(m,{key:0},f(e.errors.lat,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",ts,[ss,t("input",{type:"text",class:"form-control",id:"lon",placeholder:"Lon",name:"lon",value:e.station.lon,onInput:s[3]||(s[3]=o=>e.station.lon=o.target.value)},null,40,os),e.errors?(a(!0),r(m,{key:0},f(e.errors.lon,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",as,[rs,t("input",{type:"text",class:"form-control",id:"elevation",placeholder:"Elevation",name:"elevation",value:e.station.elevation,onInput:s[4]||(s[4]=o=>e.station.elevation=o.target.value)},null,40,ls),e.errors?(a(!0),r(m,{key:0},f(e.errors.elevation,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)])]),t("div",ns,[t("div",is,[ds,t("select",{class:"form-control",id:"station_type",name:"station_type","aria-label":"Station Type",value:e.station.station_type,onChange:s[5]||(s[5]=o=>e.station.station_type=o.target.value)},ps,40,us)]),t("div",fs,[hs,t("input",{type:"text",class:"form-control",disabled:!e.mobileNumberInputEnabled,id:"mobile_number",placeholder:"63XXXXXXXXXX",name:"mobile_number",pattern:"63[0-9]{10}",value:e.station.mobile_number},null,8,vs),e.errors?(a(!0),r(m,{key:0},f(e.errors.mobile_number,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)])]),t("div",bs,[t("div",$s,[_s,t("select",{class:"form-control",id:"status",name:"status","aria-label":"Station Status",value:e.station.status,onChange:s[6]||(s[6]=o=>e.station.status=o.target.value)},ks,40,gs)]),t("div",Ds,[Us,t("input",{type:"date",class:"form-control",id:"date_installed",placeholder:"YYYY-MM-dd",name:"date_installed",value:e.station.date_installed,onChange:s[7]||(s[7]=o=>e.station.date_installed=o.target.value)},null,40,Ss),e.errors?(a(!0),r(m,{key:0},f(e.errors.date_installed,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)])]),t("div",Cs,[xs,t("input",{type:"text",class:"form-control",id:"address",name:"address",placeholder:"Address",value:e.station.address,onInput:s[8]||(s[8]=o=>e.station.address=o.target.value)},null,40,Is),e.errors?(a(!0),r(m,{key:0},f(e.errors.address,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",As,[t("div",Ms,[Ns,t("input",{type:"text",class:"form-control",id:"province",placeholder:"Province",name:"province",value:e.station.province,onInput:s[9]||(s[9]=o=>e.station.province=o.target.value)},null,40,Bs),e.errors?(a(!0),r(m,{key:0},f(e.errors.province,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",Rs,[Fs,t("input",{type:"text",class:"form-control",id:"region",placeholder:"Region",name:"region",value:e.station.region,onInput:s[10]||(s[10]=o=>e.station.region=o.target.value)},null,40,js),e.errors?(a(!0),r(m,{key:0},f(e.errors.region,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)])]),t("div",qs,[t("button",Ps,c(e.station.id?"Update":"Add"),1)])],32)])])])])}var Ls=y(Ft,[["render",Ts],["__scopeId","data-v-b6219bdc"]]);const Es=g({props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(){const e=[{name:"timestamp",title:"Timestamp"},{name:"message",title:"Message"}];return{formatData:l=>A(I({},l),{columns:e})}}}),Vs=T("Station "),Xs=t("span",{class:"font-bold"},"Logs",-1);function Os(e,s,l,d,i,u){const o=S("Default");return a(),B(o,{fetchUrl:e.fetchUrl,baseUrl:e.baseUrl,isAdmin:!1,showIdColumn:!1,formatData:e.formatData},{header:F(()=>[Vs,Xs]),_:1},8,["fetchUrl","baseUrl","formatData"])}var zs=y(Es,[["render",Os]]);const Ys=g({props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(e){const{baseUrl:s}=x(e),l=[{name:"name",title:"Name"},{name:"roleList",title:"Roles"}];return{formatData:i=>{const u=i.data.map(o=>A(I({},o),{statusUrl:`${s.value}/${o.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${s.value}/${o.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${o.name}' station?`,btnClassName:"fas fa-trash"}]}));return A(I({},i),{data:u,columns:l})}}}}),Hs=T("User "),Gs=t("span",{class:"font-bold"},"Details",-1);function Js(e,s,l,d,i,u){const o=S("Default");return a(),B(o,{fetchUrl:e.fetchUrl,baseUrl:e.baseUrl,isAdmin:e.isAdmin,formatData:e.formatData},{header:F(()=>[Hs,Gs]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var Ks=y(Ys,[["render",Js]]);const Ws=g({props:["data","roles","baseUrl"],setup(e){const{data:s,roles:l,baseUrl:d}=x(e),i=v({name:"",roles:[]}),u=v([]),o=v({}),n=v(!1),_=v(!1),h=q(()=>u.value.map(D=>l.value.filter(E=>E.id===D)[0].name)),$=()=>{n.value=!1,i.value.roles=u.value,i.value.id?C.patch(`${d.value}/${i.value.id}`,i.value).then(()=>n.value=!0).catch(({response:{data:{errors:D}}})=>o.value=D):C.post(d.value,i.value).then(()=>n.value=!0).catch(({response:{data:{errors:D}}})=>o.value=D)};return P(()=>{s.value.id&&(i.value=s.value),s.value.roles&&(u.value=s.value.roles.map(({id:D})=>D))}),{user:i,userRoleIds:u,userRoleNames:h,success:n,errors:o,showRoleDrpDwn:_,handleFormSubmit:$}}}),R=e=>(V("data-v-2a87358f"),e=e(),X(),e),Qs={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},Zs={class:"container mx-auto"},eo={class:"max-w-md mx-auto"},to={class:"text-center"},so={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},oo={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},ao=R(()=>t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),ro=R(()=>t("div",{class:"text-xl font-normal max-w-full flex-initial"},"Updated successfully",-1)),lo={class:"flex flex-auto flex-row-reverse"},no=R(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),io=[no],uo={class:"m-7"},co={class:"mb-3"},mo=R(()=>t("label",{for:"name",class:"form-label"},"User Name",-1)),po=["value"],fo={class:"mb-3"},ho=R(()=>t("label",{for:"email",class:"form-label"},"Email",-1)),vo=["value"],bo={class:"mb-3"},$o=R(()=>t("label",{for:"password",class:"form-label"},"Password",-1)),_o=["value","required"],go=R(()=>t("label",{for:"roles",class:"form-label"},"Roles",-1)),yo={class:"w-full flex"},wo=["value"],ko=["value"],Do={class:"mb-3"},Uo={type:"submit",class:"form-button"};function So(e,s,l,d,i,u){return a(),r("div",Qs,[t("div",Zs,[t("div",eo,[t("div",to,[t("h1",so,c(e.user.id?`Update ${e.user.name}`:"Add new user"),1)]),M(t("div",oo,[ao,ro,t("div",lo,[t("div",{onClick:s[0]||(s[0]=o=>e.success=!1)},io)])],512),[[N,e.success]]),t("div",uo,[t("form",{onSubmit:s[9]||(s[9]=U((...o)=>e.handleFormSubmit&&e.handleFormSubmit(...o),["prevent"]))},[t("div",co,[mo,t("input",{type:"text",class:"form-control",placeholder:"User Name",name:"name",value:e.user.name,onInput:s[1]||(s[1]=o=>e.user.name=o.target.value),required:""},null,40,po),e.errors?(a(!0),r(m,{key:0},f(e.errors.name,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",fo,[ho,t("input",{type:"email",class:"form-control",placeholder:"Email",name:"email",value:e.user.email,onInput:s[2]||(s[2]=o=>e.user.email=o.target.value),required:""},null,40,vo),e.errors?(a(!0),r(m,{key:0},f(e.errors.email,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",bo,[$o,t("input",{type:"password",class:"form-control",placeholder:"Password",name:"password",value:e.user.password,onInput:s[3]||(s[3]=o=>e.user.password=o.target.value),required:e.user.id===null},null,40,_o),e.errors?(a(!0),r(m,{key:0},f(e.errors.password,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",{class:"mb-3",onMouseleave:s[8]||(s[8]=o=>e.showRoleDrpDwn=!1)},[go,t("div",yo,[t("input",{type:"text",class:"form-control",placeholder:"Roles",id:"roles",onFocus:s[4]||(s[4]=o=>e.showRoleDrpDwn=!0),value:e.userRoleNames,readonly:""},null,40,wo),t("button",{class:"px-3 py-2 border bg-blue-300 border-blue-400 rounded-r-md",type:"button",id:"roleDrpDwnBtn",onClick:s[5]||(s[5]=o=>e.showRoleDrpDwn=!e.showRoleDrpDwn)},[t("i",{class:w(["fas",e.showRoleDrpDwn?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),M(t("select",{class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>e.userRoleIds=o),onBlur:s[7]||(s[7]=o=>e.showRoleDrpDwn=!1),multiple:""},[(a(!0),r(m,null,f(e.roles,o=>(a(),r("option",{key:o.id,value:o.id},c(o.name),9,ko))),128))],544),[[te,e.userRoleIds],[N,e.showRoleDrpDwn]])],32),t("div",Do,[t("button",Uo,c(e.user.id?"Update":"Add"),1)])],32)])])])])}var Co=y(Ws,[["render",So],["__scopeId","data-v-2a87358f"]]);const xo=g({props:{fetchUrl:{type:String,required:!0},baseUrl:{type:String,required:!0},isAdmin:{type:Boolean,default:!1}},components:{Default:L},setup(e){const{baseUrl:s}=x(e),l=[{name:"name",title:"Name"},{name:"description",title:"Description"}];return{formatData:i=>{const u=i.data.map(o=>A(I({},o),{statusUrl:`${s.value}/${o.id}/logs`,action:[{className:"stroke-current hover:text-blue-600",title:"Edit",href:`${s.value}/${o.id}/edit`,btnClassName:"fas fa-edit"},{className:"stroke-current hover:text-red-600",title:"Delete",type:"delete",modalMessage:`delete '${o.name}' station?`,btnClassName:"fas fa-trash"}]}));return A(I({},i),{data:u,columns:l})}}}}),Io=T("Role "),Ao=t("span",{class:"font-bold"},"Details",-1);function Mo(e,s,l,d,i,u){const o=S("Default");return a(),B(o,{fetchUrl:e.fetchUrl,baseUrl:e.baseUrl,isAdmin:e.isAdmin,formatData:e.formatData},{header:F(()=>[Io,Ao]),_:1},8,["fetchUrl","baseUrl","isAdmin","formatData"])}var No=y(xo,[["render",Mo]]);const Bo=g({props:["data","baseUrl"],setup(e){const{data:s,baseUrl:l}=x(e),d=v({name:""}),i=v({}),u=v(!1),o=()=>{u.value=!1,d.value.id?C.patch(`${l.value}/${d.value.id}`,d.value).then(()=>u.value=!0).catch(({response:{data:{errors:n}}})=>i.value=n):C.post(l.value,d.value).then(()=>u.value=!0).catch(({response:{data:{errors:n}}})=>i.value=n)};return P(()=>{s.value.id&&(d.value=s.value)}),{role:d,success:u,errors:i,handleFormSubmit:o}}}),j=e=>(V("data-v-4bd9c9fa"),e=e(),X(),e),Ro={class:"flex items-center min-h-screen bg-white dark:bg-gray-900"},Fo={class:"container mx-auto"},jo={class:"max-w-md mx-auto"},qo={class:"text-center"},Po={class:"my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"},To={class:"flex justify-center items-center m-1 font-medium py-1 px-2 bg-white rounded-md text-green-700 bg-green-100 border border-green-300"},Lo=j(()=>t("div",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle w-5 h-5 mx-2"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),Eo=j(()=>t("div",{class:"text-xl font-normal max-w-full flex-initial"},"Updated successfully",-1)),Vo={class:"flex flex-auto flex-row-reverse"},Xo=j(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),Oo=[Xo],zo={class:"m-7"},Yo={class:"mb-3"},Ho=j(()=>t("label",{for:"name",class:"form-label"},"Role Name",-1)),Go=["value"],Jo={class:"mb-3"},Ko=j(()=>t("label",{for:"description",class:"form-label"},"Description",-1)),Wo=["value"],Qo={class:"mb-3"},Zo={type:"submit",class:"form-button"};function ea(e,s,l,d,i,u){return a(),r("div",Ro,[t("div",Fo,[t("div",jo,[t("div",qo,[t("h1",Po,c(e.role.id?`Update ${e.role.name}`:"Add new role"),1)]),M(t("div",To,[Lo,Eo,t("div",Vo,[t("div",{onClick:s[0]||(s[0]=o=>e.success=!1)},Oo)])],512),[[N,e.success]]),t("div",zo,[t("form",{onSubmit:s[3]||(s[3]=U((...o)=>e.handleFormSubmit&&e.handleFormSubmit(...o),["prevent"]))},[t("div",Yo,[Ho,t("input",{type:"text",class:"form-control",placeholder:"Role Name",name:"name",value:e.role.name,onInput:s[1]||(s[1]=o=>e.role.name=o.target.value),required:""},null,40,Go),e.errors?(a(!0),r(m,{key:0},f(e.errors.name,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",Jo,[Ko,t("input",{type:"text",class:"form-control",id:"description",name:"description",placeholder:"Description",value:e.role.description,onInput:s[2]||(s[2]=o=>e.role.description=o.target.value)},null,40,Wo),e.errors?(a(!0),r(m,{key:0},f(e.errors.description,(o,n)=>(a(),r("span",{class:"form-error",role:"alert",key:n},c(o),1))),128)):p("",!0)]),t("div",Qo,[t("button",Zo,c(e.role.id?"Update":"Add"),1)])],32)])])])])}var ta=y(Bo,[["render",ea],["__scopeId","data-v-4bd9c9fa"]]);se.add(oe,ae,re,le,ne,ie,de,ue,ce,me,pe,fe);he.watch();const k=ve({});k.component("font-awesome-icon",be);k.component("v-header",Te);k.component("v-sidebar",G);k.component("station-default",Rt);k.component("station-form",Ls);k.component("station-logs",zs);k.component("user-default",Ks);k.component("user-form",Co);k.component("role-default",No);k.component("role-form",ta);k.mount("#app");
